# Generated by Chef

#
# This file is used to manage DSO modules and features.
#

# This is the directory where DSO modules reside

<IfModule mod_dso.c>
ModulePath <%= @module_path %>

# Allow only user root to load and unload modules, but allow everyone
# to see which modules have been loaded

<% @control_acls.each do |acl| -%>
ModuleControlsACLs <%= ProFTPD::Conf.value(acl) %>
<% end -%>

<% compiled_in_modules = node['proftpd']['compiled_in_modules'] -%>
# Compiled-in modules: <%= compiled_in_modules.join(' ') %>
# Loaded modules:
<% (@loaded_modules - compiled_in_modules).each do |mod| -%>
LoadModule mod_<%= mod %>.c
<% end -%>
</IfModule>
